---
import { getStaticPathsFromData } from 'src/utilities/api/helpers/getStaticPathsFromData';
import { getDataHome, type PageHomeProps } from '../../utilities/api/pagehome';
import type { Locale } from 'src/utilities/locale';
import Layout from '@layouts/Layout.astro';

// const pageData = await getDataHome();
export async function getStaticPaths() {
	const data = await getDataHome();
	return getStaticPathsFromData({ data, includePagesData: true });
}

interface Props {
	locale: Locale;
	pagesData: PageHomeProps[];
}

const { locale, pagesData } = Astro.props;
const pageData: PageHomeProps = pagesData.filter(
	(page) => page.localeID === locale.id,
)[0];
---

<Layout
	lang={locale.id}
	metaData={pageData.metaData}
	skipMetaTitleSuffix
	alternativeTranslations={pageData.alternativeTranslations}
>
	<header>
		<h1>{pageData.title}</h1>
		<p>Small team. Big results. European by design.</p>
		<p><mark>We build websites that work. Beautiful, fast, and flexible. Built on solid systems and powered by open-source technologies. Weâ€™re supple, and we make sure your digital presence is too.</mark></p>
	</header>

	<!-- What we do -->
	<section>
		<h2>What we do</h2>
	</section>

	<!-- Why work with us -->
	<section>
		<h2>Why work with us</h2>
	</section>

	<!-- How we work -->
	<section>
		<h2>How we work</h2>
	</section>

	<!-- Who are we? -->
	<section>
		<h2>Who are we?</h2>
	</section>

	<!-- Trusted by -->
	<section>
		<h2>Trusted by</h2>
	</section>

	<!-- Let's talk -->
	<section>
		<h2>Let's talk</h2>
	</section>
</Layout>
