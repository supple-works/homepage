---
import { getStaticPathsFromData } from "src/utilities/api/helpers/getStaticPathsFromData";
import { getDataHome, type PageHomeProps } from "src/utilities/api/pagehome";
import type { Locale } from "src/utilities/locale";
import Layout from "@layouts/Layout.astro";
import { MastHero } from "@components/molecules";
import { Studio, Values, Intro } from "@components/organisms";

export async function getStaticPaths() {
	const data = await getDataHome();
	return getStaticPathsFromData({ data, includePagesData: true });
}

interface Props {
	locale: Locale;
	pagesData: PageHomeProps[];
}

const { locale, pagesData } = Astro.props;
const pageData: PageHomeProps = pagesData.filter((page) => page.localeID === locale.id)[0];
---

<Layout
	lang={locale.id}
	metaData={pageData.metaData}
	skipMetaTitleSuffix
	alternativeTranslations={pageData.alternativeTranslations}
>
	<MastHero />

	<Intro />

	<!-- Who are we? -->
	<Studio />

	<!-- Our Values -->
	<Values />
</Layout>
