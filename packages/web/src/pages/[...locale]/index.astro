---
import { getStaticPathsFromData } from "src/utilities/api/helpers/getStaticPathsFromData";
import { getDataHome, type PageHomeProps } from "../../utilities/api/pagehome";
import type { Locale } from "src/utilities/locale";
import Layout from "@layouts/Layout.astro";
import RolodexItem from "@components/molecules/Rolodex/RolodexItem.astro";
import { Rolodex } from "@components/molecules";

// const pageData = await getDataHome();
export async function getStaticPaths() {
	const data = await getDataHome();
	return getStaticPathsFromData({ data, includePagesData: true });
}

interface Props {
	locale: Locale;
	pagesData: PageHomeProps[];
}

const { locale, pagesData } = Astro.props;
const pageData: PageHomeProps = pagesData.filter((page) => page.localeID === locale.id)[0];
---

<Layout
	lang={locale.id}
	metaData={pageData.metaData}
	skipMetaTitleSuffix
	alternativeTranslations={pageData.alternativeTranslations}
>
	<header>
		<h1>{pageData.title}</h1>
		<p>Small team. Big results. European by design.</p>
		<p>
			<mark
				>We build websites that work. Beautiful, fast, and flexible. Built on solid systems and powered by open-source
				technologies. We’re supple, and we make sure your digital presence is too.</mark
			>
		</p>
	</header>

	<!-- What we do -->
	<section class="region | bg-secondary-background text-secondary-foreground">
		<div class="retain | flow" data-size="wall">
			<h2 class="text-step-5">What we do</h2>
			<p>
				Lorem ipsum dolor, sit amet consectetur adipisicing elit. Culpa eius architecto labore magnam similique. Nihil
				ipsam aliquid officiis, fugiat totam architecto dicta autem laborum adipisci illum sint natus distinctio
				obcaecati?
			</p>

			<Rolodex>
				<RolodexItem headline="Websites" image="https://placehold.co/16x9" style="--list-index: 0">
					<div class="grid">
						<div>
							<p>
								From landing pages to full-scale platforms—we build fast, flexible websites using modern tools and a
								solid foundation.
							</p>
						</div>
						<ul>
							<li>Build accessible front-ends with modern web technologies</li>
							<li>Flexible content managemant with headless CMSes</li>
							<li>Connect APIs and services under the hood</li>
							<li>Optimize for performance and SEO</li>
						</ul>
					</div>
				</RolodexItem>

				<RolodexItem headline="Design systems" image="https://placehold.co/16x9" style="--list-index: 1">
					<div class="grid">
						<div>
							<p>
								We bring structure to your design and development process, so teams can build consistently and scale
								without friction.
							</p>
						</div>
						<ul>
							<li>Set up shared UI libraries with clear documentation</li>
							<li>Create component-based design systems with tools like Storybook ad Figma</li>
							<li>Translate brand guidelines into usable design tokens</li>
							<li>Work closely with designers to make systems practical</li>
						</ul>
					</div>
				</RolodexItem>

				<RolodexItem headline="Audits" image="https://placehold.co/16x9" style="--list-index: 2">
					<div class="grid">
						<div>
							<p>
								Sometimes you just need a second pair of eyes. We offer honest, independent reviews of your website or
								system—so you know what’s working and what needs fixing.
							</p>
						</div>
						<ul>
							<li>Accessibility and UX feedback</li>
							<li>Front-end code reviews and performance checks</li>
							<li>Security audits</li>
							<li>Clear, actionable reports with real solutions</li>
						</ul>
					</div>
				</RolodexItem>
			</Rolodex>
		</div>
	</section>

	<!-- Why work with us -->
	<section>
		<h2>Why work with us</h2>
		<p></p>
	</section>

	<!-- How we work -->
	<section>
		<h2>How we work</h2>
	</section>

	<!-- Who are we? -->
	<section>
		<h2>Who are we?</h2>
	</section>

	<!-- Trusted by -->
	<section>
		<h2>Trusted by</h2>
	</section>

	<!-- Let's talk -->
	<section>
		<h2>Let's talk</h2>
	</section>
</Layout>
